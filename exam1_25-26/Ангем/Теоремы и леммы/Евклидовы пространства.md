## **1. Корректность определения длины и угла (неравенство Коши-Буняковского)**

**Определение длины (нормы):** Длиной (нормой) вектора $\vec{x}$ называется число $\|\vec{x}\| = \sqrt{(\vec{x}, \vec{x})}$.
**Определение угла:** Углом между ненулевыми векторами $\vec{x}$ и $\vec{y}$ называется число $\phi \in [0, \pi]$, такое что
$$\cos \phi = \frac{(\vec{x}, \vec{y})}{\|\vec{x}\| \cdot \|\vec{y}\|}$$

**Неравенство Коши–Буняковского:** Для любых векторов $\vec{x}, \vec{y}$ в евклидовом пространстве справедливо неравенство
$$|(\vec{x}, \vec{y})| \leq \|\vec{x}\| \cdot \|\vec{y}\|$$
причём равенство достигается тогда и только тогда, когда векторы $\vec{x}$ и $\vec{y}$ линейно зависимы.

Это неравенство гарантирует, что выражение для $\cos \phi$ по модулю не превосходит 1, а значит, определение угла корректно.

---
## **2. Матрица Грама, свойства**

**Определение:** Пусть в евклидовом пространстве $V$ задан базис $(\vec{e}_1, \dots, \vec{e}_n)$. **Матрицей Грама** скалярного произведения в этом базисе называется матрица
$$G = \big( g_{ij} \big), \quad \text{где } g_{ij} = (\vec{e}_i, \vec{e}_j)$$

**Свойства матрицы Грама:**
1. Матрица $G$ симметрична: $g_{ij} = g_{ji}$
2. Матрица $G$ положительно определена: $\vec{x}^T G \vec{x} > 0$ для любого ненулевого вектора $\vec{x} \in \mathbb{R}^n$
3. Если $\vec{x}$ и $\vec{y}$ — векторы с координатными столбцами $X$ и $Y$ в базисе $(\vec{e}_1, \dots, \vec{e}_n)$, то
   $$(\vec{x}, \vec{y}) = X^T G Y$$

---
## **3. Связь между матрицей перехода и матрицей Грама**

> Пусть в евклидовом пространстве $V$ заданы два базиса:
> - Старый: $(\vec{e}_1, \dots, \vec{e}_n)$ с матрицей Грама $G$
> - Новый: $(\vec{e}'_1, \dots, \vec{e}'_n)$ с матрицей Грама $G'$
>
> Пусть $C$ — матрица перехода от старого базиса к новому (столбцы $C$ — координаты новых базисных векторов в старом базисе). Тогда
> $$G' = C^T G C$$

---
## **4. Метризованные аффинные пространства, расстояние от точки до аффинного подпространства**

**Определение:** **Метризованным аффинным пространством** называется аффинное пространство $(A, V, +)$, где $V$ — евклидово пространство (т.е. на $V$ задано скалярное произведение).

**Определение расстояния:** **Расстоянием** между точками $P$ и $Q$ называется норма вектора $\overrightarrow{PQ}$:
$$\rho(P, Q) = \|\overrightarrow{PQ}\| = \sqrt{(\overrightarrow{PQ}, \overrightarrow{PQ})}$$

**Расстояние от точки до аффинного подпространства:** Пусть $L = P_0 + U$ — аффинное подпространство (где $U$ — направляющее подпространство), и $M$ — произвольная точка. Тогда расстояние от $M$ до $L$ определяется как
$$\rho(M, L) = \min_{P \in L} \rho(M, P)$$

Это расстояние равно длине ортогональной составляющей вектора $\overrightarrow{P_0 M}$ относительно подпространства $U$, т.е.
$$\rho(M, L) = \|\overrightarrow{P_0 M} - \operatorname{пр}_U \overrightarrow{P_0 M}\| = \sqrt{(\overrightarrow{P_0 M}, \overrightarrow{P_0 M}) - (\operatorname{пр}_U \overrightarrow{P_0 M}, \operatorname{пр}_U \overrightarrow{P_0 M})}$$
где $\operatorname{пр}_U \vec{v}$ — ортогональная проекция вектора $\vec{v}$ на подпространство $U$

---
## **5. Расстояние от точки до гиперплоскости**

Пусть гиперплоскость $H$ задана уравнением
$$a_1 x_1 + a_2 x_2 + \dots + a_n x_n + b = 0$$
в некоторой аффинной системе координат с ортонормированным базисом (т.е. базис, в котором матрица Грама единичная)

Тогда расстояние от точки $M(y_1, y_2, \dots, y_n)$ до гиперплоскости $H$ вычисляется по формуле
$$\rho(M, H) = \frac{|a_1 y_1 + a_2 y_2 + \dots + a_n y_n + b|}{\sqrt{a_1^2 + a_2^2 + \dots + a_n^2}}$$

**Замечание:** Если базис не ортонормированный, то в знаменателе будет стоять норма вектора нормали $\vec{n} = (a_1, a_2, \dots, a_n)$, вычисленная с учётом скалярного произведения:
$$\|\vec{n}\| = \sqrt{(\vec{n}, \vec{n})} = \sqrt{\sum_{i,j=1}^n g_{ij} a_i a_j}$$
где $G = (g_{ij})$ — матрица Грама в используемом базисе
